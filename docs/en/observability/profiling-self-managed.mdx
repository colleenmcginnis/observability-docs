---
id: enObservabilityProfilingSelfManaged
slug: /en/observability/profiling-self-managed
title: Run Universal Profiling on self-hosted Elastic stack
description: Description to be written
tags: []
---

<div id="profiling-self-managed"></div>

<DocCallOut template="beta" />

<DocCallOut title="Important" color="warning">
To run Universal Profiling on self-hosted Elastic stack, you need an [appropriate license](((subscriptions))).
</DocCallOut>

Here you'll find information on running Universal Profiling when hosting the Elastic stack on your own infrastructure.

Universal Profiling consists of a client part (the Universal Profiling Agent) and a server part (the backend). This documentation focuses on the server part.

<div id="profiling-self-managed-supported-platforms"></div>

## Prerequisites

<DocCallOut title="Important" color="warning">
Running Universal Profiling on self hosted infrastructure requires an Elastic **Enterprise license**.
</DocCallOut>

* Elastic stack: minimum version 8.12.0, on any Linux distribution (x86_64 or ARM64 architectures), with a Kernel 4.x or higher.
* [ECE](https://www.elastic.co/ece): minimum version 3.7.0, using the 8.12.0 stackpack or higher.
* Kubernetes: version 1.22+, using Helm charts.

<DocCallOut title="Note">
For Elastic Cloud on Kubernetes (ECK), the Universal Profiling backend can be installed using helm charts in standalone mode.
Once installed, you can connect the profiling backend to an existing ECK-managed stack.
Currently, we do not have Profiling Operators and the CRDs necessary for running the Profiling backend natively in ECK.
</DocCallOut>

<div id="profiling-self-managed-backend-support-matrix"></div>

### Supported platforms

The following platforms were tested and successfully ran the Universal Profiling backend.

<DocTable columns={[
  { "title": "Platform" },
  { "title": "OS" },
  { "title": "Details" }
]}>
  <DocRow>
    <DocCell>
      Linux x86_64, ARM64
    </DocCell>
    <DocCell>
      Ubuntu 20.04 LTS
    </DocCell>
    <DocCell>
      * ✅ DEB package from the repository
      * ✅ Docker
      * ✅ Binary

    </DocCell>
  </DocRow>
  <DocRow>
    <DocCell>
      Linux x86_64, ARM64
    </DocCell>
    <DocCell>
      Ubuntu 22.04 LTS
    </DocCell>
    <DocCell>
      * ✅ DEB package from the repository
      * ✅ Docker
      * ✅ Binary

    </DocCell>
  </DocRow>
  <DocRow>
    <DocCell>
      Linux x86_64, ARM64
    </DocCell>
    <DocCell>
      Debian Bullseye
    </DocCell>
    <DocCell>
      * ✅ DEB package from the repository
      * ✅ Docker
      * ✅ Binary

    </DocCell>
  </DocRow>
  <DocRow>
    <DocCell>
      Linux x86_64, ARM64
    </DocCell>
    <DocCell>
      Debian Bookworm
    </DocCell>
    <DocCell>
      * ✅ DEB package from the repository
      * ✅ Docker
      * ✅ Binary

    </DocCell>
  </DocRow>
  <DocRow>
    <DocCell>
      Linux x86_64, ARM64
    </DocCell>
    <DocCell>
      Fedora 37
    </DocCell>
    <DocCell>
      * ✅ YUM package from the repository
      * ✅ Docker
      * ✅ Binary

    </DocCell>
  </DocRow>
  <DocRow>
    <DocCell>
      Linux x86_64, ARM64
    </DocCell>
    <DocCell>
      Fedora 38
    </DocCell>
    <DocCell>
      * ✅ YUM package from the repository
      * ✅ Docker
      * ✅ Binary

    </DocCell>
  </DocRow>
  <DocRow>
    <DocCell>
      Linux x86_64, ARM64
    </DocCell>
    <DocCell>
      RHEL 9.3
    </DocCell>
    <DocCell>
      * ✅ YUM package from the repository
      * ✅ Docker
      * ✅ Binary

    </DocCell>
  </DocRow>
  <DocRow>
    <DocCell>
      Linux x86_64, ARM64
    </DocCell>
    <DocCell>
      RHEL 8.9
    </DocCell>
    <DocCell>
      * ✅ YUM package from the repository
      * ✅ Docker
      * ✅ Binary

    </DocCell>
  </DocRow>
  <DocRow>
    <DocCell>
      Linux x86_64, ARM64
    </DocCell>
    <DocCell>
      openSUSE Leap
    </DocCell>
    <DocCell>
      * ✅ Docker
      * ✅ Binary

    </DocCell>
  </DocRow>
  <DocRow>
    <DocCell>
      Linux x86_64, ARM64
    </DocCell>
    <DocCell>
      SUSE Linux Enterprise 15
    </DocCell>
    <DocCell>
      * ✅ Docker
      * ✅ Binary

    </DocCell>
  </DocRow>
  <DocRow>
    <DocCell>
      Kubernetes 1.25, 1.26, 1.27
    </DocCell>
    <DocCell>
      Linux x86_64/ARM64
    </DocCell>
    <DocCell>
      * ✅ Helm charts

    </DocCell>
  </DocRow>
</DocTable>

<div id="profiling-self-managed-architecture-overview"></div>

## Architecture overview

The backend is made up of two services: the collector and the symbolizer.

* The collector receives profiling data from the Universal Profiling Agents and sends it to ((es)).
    It listens on an HTTP server and serves a gRPC endpoint.

* The symbolizer processes debug symbols that are not available on the Universal Profiling Agent, and symbolizes native frames from OS packages.
    It also listens on an HTTP server and serves an endpoint to upload private debug symbols.
    Refer to <DocLink id="enObservabilityProfilingAddSymbols">Adding symbols</DocLink> for more information on the importance of adding symbols.

![](images/profiling-self-managed-ingestion-architecture.png)

