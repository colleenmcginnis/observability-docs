* ((es)) cluster and ((kib)) (version ((minor-version))) with a basic license or
higher. [Learn how to install the ((stack)) on your own hardware](((stack-ref))/installing-elastic-stack.html).

* Secure, encrypted connection between ((kib)) and ((es)). For more information,
see [Start the ((stack)) with security enabled](((ref))/configuring-stack-security.html).

* Internet connection for ((kib)) to download integration packages from the
((package-registry)). Make sure the ((kib)) server can connect to
`https://epr.elastic.co` on port `443`. If your environment has network traffic
restrictions, there are ways to work around this requirement.
See [Air-gapped environments](((fleet-guide))/air-gapped.html) for more information.

* ((kib)) user with `All` privileges on ((fleet)) and ((integrations)). Since many
Integrations assets are shared across spaces, users need the ((kib)) privileges in
all spaces.

* In the ((es)) configuration, the
[built-in API key service](((ref))/security-settings.html#api-key-service-settings) must be enabled.
(`xpack.security.authc.api_key.enabled: true`)

* In the ((kib)) configuration, the saved objects encryption key
must be set. ((fleet)) requires this setting in order to save API keys and encrypt
them in ((kib)). You can either set `xpack.encryptedSavedObjects.encryptionKey` to
an alphanumeric value of at least 32 characters, or run the
[`kibana-encryption-keys` command](((kibana-ref))/kibana-encryption-keys.html) to
generate the key.

{/*
TO DO: We need to test these recommendations to see which are still valid
when users run security by default. I suspect the setup is easier than we
are conveying here.
*/}

**Example security settings**

For testing purposes, you can use the following settings to get started quickly,
but make sure you properly secure the ((stack)) before sending real data.

elasticsearch.yml example:

```yaml
xpack.security.enabled: true
xpack.security.authc.api_key.enabled: true
```

kibana.yml example:

```yaml
elasticsearch.username: "kibana_system" [^1]
xpack.encryptedSavedObjects.encryptionKey: "something_at_least_32_characters"
```
[^1] The password should be stored in the ((kib)) keystore as described in the
((ref))/security-minimal-setup.html[((es)) security documentation].