---
id: enObservabilityDurationAnomalyAlert
slug: /en/observability/duration-anomaly-alert
title: Create an uptime duration anomaly rule
description: Description to be written
tags: []
---

import AlertingConnectors from './shared/alerting-connectors.mdx'

<div id="duration-anomaly-alert"></div>

Within the ((uptime-app)), create an **Uptime duration anomaly** rule to receive notifications
based on the response durations for all of the geographic locations of each monitor. When a
monitor runs for an unusual amount of time, at a particular time, an anomaly is recorded and
highlighted on the <DocLink id="enObservabilityInspectUptimeDurationAnomalies">Monitor duration</DocLink> chart.

{/* lint ignore anomaly-detection */}
1. To access this page, go to **((observability))** -> **Uptime**.
1. On the **Monitors** page, select on a monitor, and then click **Enable anomaly detection**.

<div id="duration-alert-conditions"></div>

## Conditions

For each rule, you can configure which severity level triggers the alert. The default level is `critical`.

The _anomaly score_ is a value from `0` to `100`, which indicates the significance of the anomaly
compared to previously seen anomalies. The highly anomalous values are shown in
red and the low scored values are indicated in blue.

|  |  |
|---|---|
| **warning** | Score `0` and above. |
| **minor** | Score `25` and above. |
| **major** | Score `50` and above. |
| **critical** | Score `75` and above. |

![Uptime response duration rule](images/response-durations-alert.png)

<div id="action-types-duration"></div>

## Action types

Extend your rules by connecting them to actions that use the following
supported built-in integrations. Actions are ((kib)) services or integrations with
third-party systems that run as background tasks on the ((kib)) server when rule conditions are met.

You can configure action types on the <DocLink id="enObservabilityConfigureUptimeSettings" section="configure-connectors">Settings</DocLink> page.

<AlertingConnectors />

After you select a connector, you must set the action frequency. You can choose to create a summary of alerts on each check interval or on a custom interval. For example, send email notifications that summarize the new, ongoing, and recovered alerts every twelve hours:

![Action types](images/duration-anomaly-alert-summary.png)

Alternatively, you can set the action frequency such that you choose how often the action runs (for example, at each check interval, only when the alert status changes, or at a custom action interval). In this case, you must also select the specific threshold condition that affects when actions run: `Uptime Duration Anomaly` or `Recovered`.

![Configure when a rule is triggered](images/duration-anomaly-run-when-selection.png)

<div id="action-variables-duration"></div>

## Action variables

Use the default notification message or customize it.
You can add more context to the message by clicking the icon above the message text box
and selecting from a list of available variables.

<DocImage size="xl" url="images/duration-anomaly-alert-default-message.png" alt='Default notification message for Uptime duration anomaly rules with open "Add variable" popup listing available action variables' />

<div id="recovery-variables-duration"></div>

## Alert recovery

To receive a notification when the alert recovers, select **Run when Recovered**. Use the default notification message or customize it. You can add more context to the message by clicking the icon above the message text box and selecting from a list of available variables.

<DocImage size="xl" url="images/duration-anomaly-alert-recovery.png" alt='Default recovery message for Uptime duration anomaly rules with open "Add variable" popup listing available action variables' />