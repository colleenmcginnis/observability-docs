---
id: enObservabilityLogsStream
slug: /en/observability/logs-stream
title: Stream any log file
description: Description to be written
tags: []
---

import MonitoringPrereqs from './shared/logs-metrics-get-started/monitoring-prereqs.mdx'
import DownloadWidget from './shared/copied-from-ingest-docs/tab-widgets/download-widget.mdx'
import RunStandaloneWidget from './shared/copied-from-ingest-docs/tab-widgets/run-standalone-widget.mdx'
import AgentLocationWidget from './tab-widgets/logs/agent-location-widget.mdx'
import StopWidget from './shared/copied-from-ingest-docs/tab-widgets/stop-widget.mdx'
import StartWidget from './shared/copied-from-ingest-docs/tab-widgets/start-widget.mdx'

<div id="logs-stream"></div>

This guide shows you how to send a log file to Elasticsearch using a standalone ((agent)) and configure the ((agent)) and your data streams using the `elastic-agent.yml` file, and query your logs using the data streams you've set up.

<div id="logs-stream-prereq"></div>

## Prerequisites

<MonitoringPrereqs />

<div id="logs-stream-install-config-agent"></div>

## Install and configure the standalone ((agent))

Complete these steps to install and configure the standalone ((agent)) and send your log data to ((es)):

1. <DocLink id="enObservabilityLogsStream" section="step-1-download-and-extract-the-((agent))-installation-package">Download and extract the ((agent)) installation package.</DocLink>
1. <DocLink id="enObservabilityLogsStream" section="step-2-install-and-start-the-((agent))">Install and start the ((agent)).</DocLink>
1. <DocLink id="enObservabilityLogsStream" section="step-3-configure-the-((agent))">Configure the ((agent)).</DocLink>

<div id="logs-stream-extract-agent"></div>

### Step 1: Download and extract the ((agent)) installation package

On your host, download and extract the installation package that corresponds with your system:

<DownloadWidget />

<div id="logs-stream-install-agent"></div>

### Step 2: Install and start the ((agent))
After downloading and extracting the installation package, you're ready to install the ((agent)). From the agent directory, run the install command that corresponds with your system:

<DocCallOut title="Note">
On macOS, Linux (tar package), and Windows, run the `install` command to
install and start ((agent)) as a managed service and start the service. The DEB and RPM
packages include a service unit for Linux systems with
systemd, For these systems, you must enable and start the service.
</DocCallOut>

<RunStandaloneWidget />

During installation, you're prompted with some questions:

1. When asked if you want to install the agent as a service, enter `Y`.
1. When asked if you want to enroll the agent in Fleet, enter `n`.

<div id="logs-stream-agent-config"></div>

### Step 3: Configure the ((agent))

With your agent installed, configure it by updating the `elastic-agent.yml` file.

<div id="logs-stream-yml-location"></div>

#### Locate your configuration file

After installing the agent, you'll find the `elastic-agent.yml` in one of the following locations according to your system:

<AgentLocationWidget />

<div id="logs-stream-example-config"></div>

#### Update your configuration file

The following is an example of a standalone ((agent)) configuration. To configure your ((agent)), replace the contents of the `elastic-agent.yml` file with this configuration:

```yaml
outputs:
  default:
    type: elasticsearch
    hosts: '<your-elasticsearch-endpoint>:<port>'
    api_key: 'your-api-key'
inputs:
  - id: your-log-id
    type: filestream
    streams:
      - id: your-log-stream-id
        data_stream:
          dataset: example
        paths:
          - /var/log/your-logs.log
```

Next, set the values for these fields:

- `hosts` – Copy the ((es)) endpoint from **Help menu (<DocImage flatImage alt="" url="images/help-icon.png" />) → Connection details**. For example, `https://my-deployment.es.us-central1.gcp.cloud.es.io:443`.
- `api-key` – Use an API key to grant the agent access to ((es)). To create an API key for your agent, refer to the [Create API keys for standalone agents](((fleet-guide))/grant-access-to-elasticsearch.html#create-api-key-standalone-agent) documentation.

<DocCallOut title="Note">
The API key format should be `<id>:<key>`. Make sure you selected **Beats** when you created your API key. Base64 encoded API keys are not currently supported in this configuration.
- `inputs.id` – A unique identifier for your input.
- `type` – The type of input. For collecting logs, set this to `filestream`.
- `streams.id` – A unique identifier for your stream of log data.
- `data_stream.dataset` – The name for your dataset data stream. Name this data stream anything that signifies the source of the data. In this configuration, the dataset is set to `example`. The default value is `generic`.
- `paths` – The path to your log files. You can also use a pattern like `/var/log/your-logs.log*`.
</DocCallOut>

<div id="logs-stream-restart-agent"></div>

#### Restart the ((agent))

After updating your configuration file, you need to restart the ((agent)):

First, stop the ((agent)) and its related executables using the command that works with your system:

<StopWidget />

Next, restart the ((agent)) using the command that works with your system:

<StartWidget />

<div id="logs-stream-troubleshooting"></div>

## Troubleshoot your ((agent)) configuration

If you're not seeing your log files in ((kib)), verify the following in the `elastic-agent.yml` file:

- The path to your logs file under `paths` is correct.
- Your API key is in `<id>:<key>` format. If not, your API key may be in an unsupported format, and you'll need to create an API key in **Beats** format.

If you're still running into issues, see [((agent)) troubleshooting](((fleet-guide))/fleet-troubleshooting.html) and [Configure standalone Elastic Agents](((fleet-guide))/elastic-agent-configuration.html).

<div id="logs-stream-next-steps"></div>

## Next steps

After you have your agent configured and are streaming log data to ((es)):

- Refer to the <DocLink id="enObservabilityLogsParse">Parse and organize logs</DocLink> documentation for information on extracting structured fields from your log data, rerouting your logs to different data streams, and filtering and aggregating your log data.
- Refer to the <DocLink id="enObservabilityLogsFilterAndAggregate">Filter and aggregate logs</DocLink> documentation for information on filtering and aggregating your log data to find specific information, gain insight, and monitor your systems more efficiently.