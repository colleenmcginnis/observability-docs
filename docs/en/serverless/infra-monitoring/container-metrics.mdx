[[container-metrics]]
= Container metrics

preview:[]

Learn about key container metrics displayed in the Infrastructure UI:

* <<container-metrics-docker-container-metrics,Docker>>
* <<container-metrics-kubernetes-container-metrics,Kubernetes>>

[discrete]
[[container-metrics-docker-container-metrics]]
== Docker container metrics

These are the key metrics displayed for Docker containers.

[[container-metrics-key-metrics-docker-cpu]]

[discrete]
[[container-metrics-cpu-usage-metrics]]
=== CPU usage metrics

|===
| Metric | Description

| **CPU Usage (%)**
a| Average CPU for the container.

**Field Calculation:** `average(docker.cpu.total.pct)`
|===

[[container-metrics-key-metrics-docker-memory]]

[discrete]
[[container-metrics-memory-metrics-1]]
=== Memory metrics

|===
| Metric | Description

| **Memory Usage (%)**
a| Average memory usage for the container.

**Field Calculation:** `average(docker.memory.usage.pct)`
|===

[[container-metrics-key-metrics-docker-network]]

[discrete]
[[container-metrics-network-metrics]]
=== Network metrics

|===
| Metric | Description

| **Inbound Traffic (RX)**
a| Derivative of the maximum of `docker.network.in.bytes` scaled to a 1 second rate.

**Field Calculation:** `average(docker.network.inbound.bytes) * 8 / (max(metricset.period, kql='docker.network.inbound.bytes: *') / 1000)`

| **Outbound Traffic (TX)**
a| Derivative of the maximum of `docker.network.out.bytes` scaled to a 1 second rate.

**Field Calculation:** `average(docker.network.outbound.bytes) * 8 / (max(metricset.period, kql='docker.network.outbound.bytes: *') / 1000)`
|===

[discrete]
[[container-metrics-disk-metrics]]
=== Disk metrics

|===
| Metric | Description

| **Disk Read IOPS**
a| Average count of read operations from the device per second.

**Field Calculation:**  `counter_rate(max(docker.diskio.read.ops), kql='docker.diskio.read.ops: *')`

| **Disk Write IOPS**
a| Average count of write operations from the device per second.

**Field Calculation:**  `counter_rate(max(docker.diskio.write.ops), kql='docker.diskio.write.ops: *')`
|===

[discrete]
[[container-metrics-kubernetes-container-metrics]]
== Kubernetes container metrics

These are the key metrics displayed for Kubernetes (containerd) containers.

[[container-metrics-key-metrics-kubernetes-cpu]]

[discrete]
[[container-metrics-cpu-usage-metrics-2]]
=== CPU usage metrics

|===
| Metric | Description

| **CPU Usage (%)**
a| Average CPU for the container.

**Field Calculation:** `average(kubernetes.container.cpu.usage.limit.pct)`
|===

[[container-metrics-key-metrics-kubernetes-memory]]

[discrete]
[[container-metrics-memory-metrics-3]]
=== Memory metrics

|===
| Metric | Description

| **Memory Usage (%)**
a| Average memory usage for the container.

**Field Calculation:** `average(kubernetes.container.memory.usage.limit.pct)`
|===
